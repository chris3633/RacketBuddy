{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to requests if it exists\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Auth endpoints\nexport const login = async credentials => {\n  const formData = new FormData();\n  formData.append('username', credentials.username);\n  formData.append('password', credentials.password);\n  const response = await api.post('/api/auth/token', formData);\n  return response.data;\n};\nexport const register = async data => {\n  const response = await api.post('/api/auth/register', data);\n  return response.data;\n};\n\n// User endpoints\nexport const getCurrentUser = async () => {\n  const response = await api.get('/api/users/me');\n  return response.data;\n};\nexport const updateUser = async data => {\n  const response = await api.put('/api/users/me', data);\n  return response.data;\n};\n\n// Event endpoints\nexport const getEvents = async () => {\n  const response = await api.get('/api/events');\n  return response.data;\n};\nexport const getMyEvents = async () => {\n  const response = await api.get('/api/events/my-events');\n  return response.data;\n};\nexport const createEvent = async data => {\n  const response = await api.post('/api/events', data);\n  return response.data;\n};\nexport const registerForEvent = async eventId => {\n  const response = await api.post(`/api/events/${eventId}/register`);\n  return response.data;\n};\nexport const cancelEvent = async eventId => {\n  await api.delete(`/api/events/${eventId}`);\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","login","credentials","formData","FormData","append","username","password","response","post","data","register","getCurrentUser","get","updateUser","put","getEvents","getMyEvents","createEvent","registerForEvent","eventId","cancelEvent","delete"],"sources":["C:/Users/Admin/Documents/RacketBuddy/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { AuthResponse, Event, EventRegistration, LoginCredentials, RegisterData, User } from '../types';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add token to requests if it exists\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Auth endpoints\r\nexport const login = async (credentials: LoginCredentials): Promise<AuthResponse> => {\r\n  const formData = new FormData();\r\n  formData.append('username', credentials.username);\r\n  formData.append('password', credentials.password);\r\n  const response = await api.post<AuthResponse>('/api/auth/token', formData);\r\n  return response.data;\r\n};\r\n\r\nexport const register = async (data: RegisterData): Promise<User> => {\r\n  const response = await api.post<User>('/api/auth/register', data);\r\n  return response.data;\r\n};\r\n\r\n// User endpoints\r\nexport const getCurrentUser = async (): Promise<User> => {\r\n  const response = await api.get<User>('/api/users/me');\r\n  return response.data;\r\n};\r\n\r\nexport const updateUser = async (data: Partial<User>): Promise<User> => {\r\n  const response = await api.put<User>('/api/users/me', data);\r\n  return response.data;\r\n};\r\n\r\n// Event endpoints\r\nexport const getEvents = async (): Promise<Event[]> => {\r\n  const response = await api.get<Event[]>('/api/events');\r\n  return response.data;\r\n};\r\n\r\nexport const getMyEvents = async (): Promise<Event[]> => {\r\n  const response = await api.get<Event[]>('/api/events/my-events');\r\n  return response.data;\r\n};\r\n\r\nexport const createEvent = async (data: Omit<Event, 'id' | 'is_cancelled' | 'created_at' | 'organizer_id'>): Promise<Event> => {\r\n  const response = await api.post<Event>('/api/events', data);\r\n  return response.data;\r\n};\r\n\r\nexport const registerForEvent = async (eventId: number): Promise<EventRegistration> => {\r\n  const response = await api.post<EventRegistration>(`/api/events/${eventId}/register`);\r\n  return response.data;\r\n};\r\n\r\nexport const cancelEvent = async (eventId: number): Promise<void> => {\r\n  await api.delete(`/api/events/${eventId}`);\r\n};\r\n\r\nexport default api; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAExE,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EACvBC,OAAO,EAAEN,OAAO;EAChBO,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMK,KAAK,GAAG,MAAOC,WAA6B,IAA4B;EACnF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEH,WAAW,CAACI,QAAQ,CAAC;EACjDH,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEH,WAAW,CAACK,QAAQ,CAAC;EACjD,MAAMC,QAAQ,GAAG,MAAMnB,GAAG,CAACoB,IAAI,CAAe,iBAAiB,EAAEN,QAAQ,CAAC;EAC1E,OAAOK,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAOD,IAAkB,IAAoB;EACnE,MAAMF,QAAQ,GAAG,MAAMnB,GAAG,CAACoB,IAAI,CAAO,oBAAoB,EAAEC,IAAI,CAAC;EACjE,OAAOF,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAME,cAAc,GAAG,MAAAA,CAAA,KAA2B;EACvD,MAAMJ,QAAQ,GAAG,MAAMnB,GAAG,CAACwB,GAAG,CAAO,eAAe,CAAC;EACrD,OAAOL,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMI,UAAU,GAAG,MAAOJ,IAAmB,IAAoB;EACtE,MAAMF,QAAQ,GAAG,MAAMnB,GAAG,CAAC0B,GAAG,CAAO,eAAe,EAAEL,IAAI,CAAC;EAC3D,OAAOF,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMM,SAAS,GAAG,MAAAA,CAAA,KAA8B;EACrD,MAAMR,QAAQ,GAAG,MAAMnB,GAAG,CAACwB,GAAG,CAAU,aAAa,CAAC;EACtD,OAAOL,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMO,WAAW,GAAG,MAAAA,CAAA,KAA8B;EACvD,MAAMT,QAAQ,GAAG,MAAMnB,GAAG,CAACwB,GAAG,CAAU,uBAAuB,CAAC;EAChE,OAAOL,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMQ,WAAW,GAAG,MAAOR,IAAwE,IAAqB;EAC7H,MAAMF,QAAQ,GAAG,MAAMnB,GAAG,CAACoB,IAAI,CAAQ,aAAa,EAAEC,IAAI,CAAC;EAC3D,OAAOF,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMS,gBAAgB,GAAG,MAAOC,OAAe,IAAiC;EACrF,MAAMZ,QAAQ,GAAG,MAAMnB,GAAG,CAACoB,IAAI,CAAoB,eAAeW,OAAO,WAAW,CAAC;EACrF,OAAOZ,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMW,WAAW,GAAG,MAAOD,OAAe,IAAoB;EACnE,MAAM/B,GAAG,CAACiC,MAAM,CAAC,eAAeF,OAAO,EAAE,CAAC;AAC5C,CAAC;AAED,eAAe/B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}