{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Documents/RacketBuddy/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{createEvent}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateEvent=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({court_location:'',event_date:'',event_time:'',max_participants:''});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);try{// Format the date and time\nconst eventData={court_location:formData.court_location,event_date:\"\".concat(formData.event_date,\"T00:00:00\"),event_time:\"\".concat(formData.event_date,\"T\").concat(formData.event_time,\":00\"),max_participants:formData.max_participants?parseInt(formData.max_participants):2// Default to 2 if not specified\n};await createEvent(eventData);navigate('/');}catch(err){console.error('Create event error:',err);let errorMsg='Failed to create event';if(err.detail){errorMsg=typeof err.detail==='string'?err.detail:JSON.stringify(err.detail);}else if(err.message){errorMsg=err.message;}setError(errorMsg);}finally{setLoading(false);}};const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Create New Event\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-600\",children:\"Fill in the details below to create a new tennis match event.\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md bg-red-50 p-4 mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:error})})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"court_location\",className:\"block text-sm font-medium text-gray-700\",children:\"Court Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"court_location\",id:\"court_location\",required:true,className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\",value:formData.court_location,onChange:handleChange,placeholder:\"Enter court location\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"event_date\",className:\"block text-sm font-medium text-gray-700\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"event_date\",id:\"event_date\",required:true,className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\",value:formData.event_date,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"event_time\",className:\"block text-sm font-medium text-gray-700\",children:\"Time\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"event_time\",id:\"event_time\",required:true,className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\",value:formData.event_time,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"max_participants\",className:\"block text-sm font-medium text-gray-700\",children:\"Maximum Participants (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"max_participants\",id:\"max_participants\",min:\"0\",className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\",value:formData.max_participants,onChange:handleChange,placeholder:\"Leave blank for unlimited participants\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/'),className:\"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:loading?'Creating...':'Create Event'})]})]})]});};export default CreateEvent;","map":{"version":3,"names":["React","useState","useNavigate","createEvent","jsx","_jsx","jsxs","_jsxs","CreateEvent","navigate","formData","setFormData","court_location","event_date","event_time","max_participants","loading","setLoading","error","setError","handleSubmit","e","preventDefault","eventData","concat","parseInt","err","console","errorMsg","detail","JSON","stringify","message","handleChange","name","value","target","prev","_objectSpread","className","children","onSubmit","htmlFor","type","id","required","onChange","placeholder","min","onClick","disabled"],"sources":["C:/Users/Admin/Documents/RacketBuddy/frontend/src/pages/CreateEvent.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { createEvent } from '../services/api';\r\n\r\nconst CreateEvent: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    court_location: '',\r\n    event_date: '',\r\n    event_time: '',\r\n    max_participants: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Format the date and time\r\n      const eventData = {\r\n        court_location: formData.court_location,\r\n        event_date: `${formData.event_date}T00:00:00`,\r\n        event_time: `${formData.event_date}T${formData.event_time}:00`,\r\n        max_participants: formData.max_participants ? parseInt(formData.max_participants) : 2, // Default to 2 if not specified\r\n      };\r\n      await createEvent(eventData);\r\n      navigate('/');\r\n    } catch (err: any) {\r\n      console.error('Create event error:', err);\r\n      let errorMsg = 'Failed to create event';\r\n      if (err.detail) {\r\n        errorMsg = typeof err.detail === 'string' ? err.detail : JSON.stringify(err.detail);\r\n      } else if (err.message) {\r\n        errorMsg = err.message;\r\n      }\r\n      setError(errorMsg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (\r\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"py-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Create New Event</h1>\r\n        <p className=\"mt-2 text-sm text-gray-600\">\r\n          Fill in the details below to create a new tennis match event.\r\n        </p>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"rounded-md bg-red-50 p-4 mb-6\">\r\n          <div className=\"flex\">\r\n            <div className=\"ml-3\">\r\n              <h3 className=\"text-sm font-medium text-red-800\">\r\n                {error}\r\n              </h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        <div>\r\n          <label\r\n            htmlFor=\"court_location\"\r\n            className=\"block text-sm font-medium text-gray-700\"\r\n          >\r\n            Court Location\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"court_location\"\r\n            id=\"court_location\"\r\n            required\r\n            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\r\n            value={formData.court_location}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter court location\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label\r\n            htmlFor=\"event_date\"\r\n            className=\"block text-sm font-medium text-gray-700\"\r\n          >\r\n            Date\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"event_date\"\r\n            id=\"event_date\"\r\n            required\r\n            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\r\n            value={formData.event_date}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label\r\n            htmlFor=\"event_time\"\r\n            className=\"block text-sm font-medium text-gray-700\"\r\n          >\r\n            Time\r\n          </label>\r\n          <input\r\n            type=\"time\"\r\n            name=\"event_time\"\r\n            id=\"event_time\"\r\n            required\r\n            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\r\n            value={formData.event_time}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label\r\n            htmlFor=\"max_participants\"\r\n            className=\"block text-sm font-medium text-gray-700\"\r\n          >\r\n            Maximum Participants (Optional)\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"max_participants\"\r\n            id=\"max_participants\"\r\n            min=\"0\"\r\n            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\r\n            value={formData.max_participants}\r\n            onChange={handleChange}\r\n            placeholder=\"Leave blank for unlimited participants\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex justify-end space-x-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => navigate('/')}\r\n            className=\"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {loading ? 'Creating...' : 'Create Event'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateEvent; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}