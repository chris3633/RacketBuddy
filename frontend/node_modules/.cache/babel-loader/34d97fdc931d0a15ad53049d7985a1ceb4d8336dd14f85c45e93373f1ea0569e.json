{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Documents/RacketBuddy/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{getEvents,registerForEvent,cancelEvent}from'../services/api';import{format}from'date-fns';import{useAuth}from'../contexts/AuthContext';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{var _selectedEvent$regist,_selectedEvent$regist2;const[events,setEvents]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const{user}=useAuth();const[toast,setToast]=useState(null);const[selectedEvent,setSelectedEvent]=useState(null);const[expandedSections,setExpandedSections]=useState({upcoming:true,past:false});useEffect(()=>{fetchEvents();},[]);// Auto-hide toast after 3 seconds\nuseEffect(()=>{if(toast){const timer=setTimeout(()=>{setToast(null);},3000);return()=>clearTimeout(timer);}},[toast]);const fetchEvents=async()=>{try{const data=await getEvents();// Sort events by date\nconst sortedEvents=data.sort((a,b)=>new Date(a.event_date).getTime()-new Date(b.event_date).getTime());setEvents(sortedEvents);setError(null);}catch(err){console.error('Failed to load events:',err);let errorMsg='Failed to load events';if(err.detail){errorMsg=typeof err.detail==='string'?err.detail:JSON.stringify(err.detail);}else if(err.message){errorMsg=err.message;}setError(errorMsg);}finally{setLoading(false);}};const handleRegister=async eventId=>{try{console.log('Attempting to register for event:',eventId);await registerForEvent(eventId);// Refresh events after registration\nfetchEvents();setToast({message:'Successfully registered for event!',type:'success'});}catch(err){var _err$response,_err$response2;console.error('Failed to register for event:',err);console.error('Error details:',{status:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status,data:(_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data,message:err.message,detail:err.detail});let errorMsg='Failed to register for event';if(err.detail){errorMsg=typeof err.detail==='string'?err.detail:JSON.stringify(err.detail);}else if(err.message){errorMsg=err.message;}setError(errorMsg);setToast({message:errorMsg,type:'error'});}};const handleWithdraw=async eventId=>{try{console.log('Attempting to withdraw from event:',eventId);const response=await registerForEvent(eventId,true);console.log('Withdrawal response:',response);setToast({message:'Successfully withdrew from event',type:'success'});// Refresh events to update the UI\nawait fetchEvents();}catch(error){var _error$response,_error$response2,_error$response3,_error$response3$data;console.error('Failed to withdraw from event:',error);console.error('Error details:',{status:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status,data:(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data,message:error.message,detail:error.detail});setToast({message:((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||error.detail||'Failed to withdraw from event',type:'error'});}};const handleCancelEvent=async eventId=>{try{console.log('Attempting to cancel event:',eventId);await cancelEvent(eventId);console.log('Event cancelled successfully');setToast({message:'Successfully cancelled event',type:'success'});fetchEvents();// Refresh events to update the UI\n}catch(error){var _error$response4,_error$response5,_error$response6,_error$response6$data;console.error('Failed to cancel event:',error);console.error('Error details:',{status:(_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status,data:(_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.data,message:error.message,detail:error.detail});setToast({message:((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.detail)||error.detail||'Failed to cancel event',type:'error'});}};const toggleSection=section=>{setExpandedSections(prev=>_objectSpread(_objectSpread({},prev),{},{[section]:!prev[section]}));};const categorizeEvents=()=>{const now=new Date();return{upcoming:events.filter(event=>new Date(event.event_date)>=now&&!event.is_cancelled),past:events.filter(event=>new Date(event.event_date)<now&&!event.is_cancelled)};};const renderEventCard=event=>{var _event$registrations,_event$registrations2;const totalSpots=event.max_participants||null;const currentRegistrations=((_event$registrations=event.registrations)===null||_event$registrations===void 0?void 0:_event$registrations.length)||0;const availableSpots=totalSpots?totalSpots-currentRegistrations:null;// Check if user is organizer or registered\nconst isOrganizer=event.organizer_id===(user===null||user===void 0?void 0:user.id);const isRegistered=((_event$registrations2=event.registrations)===null||_event$registrations2===void 0?void 0:_event$registrations2.some(reg=>{var _reg$user;return((_reg$user=reg.user)===null||_reg$user===void 0?void 0:_reg$user.id)===(user===null||user===void 0?void 0:user.id);}))||false;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[\"Tennis Match at \",event.court_location]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Date:\",' ',format(new Date(event.event_date),'MMMM d, yyyy')]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Time:\",' ',format(new Date(event.event_time),'h:mm a')]}),totalSpots!==null?/*#__PURE__*/_jsxs(\"p\",{children:[\"Participants: \",currentRegistrations,\"/\",totalSpots]}):/*#__PURE__*/_jsx(\"p\",{children:\"Participants: Open Registration\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedEvent(event),className:\"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#C4E538]\",children:\"See Event Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex justify-center space-x-2\",children:event.organizer_id===(user===null||user===void 0?void 0:user.id)?/*#__PURE__*/_jsxs(_Fragment,{children:[isRegistered?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleWithdraw(event.id),className:\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-100 hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500\",children:\"Withdraw\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRegister(event.id),className:\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-900 bg-[#C4E538] hover:bg-[#B4D532] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#C4E538]\",children:\"Register\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCancelEvent(event.id),className:\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",children:\"Cancel Event\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>isRegistered?handleWithdraw(event.id):handleRegister(event.id),disabled:event.is_cancelled,className:\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md \".concat(event.is_cancelled?'text-gray-400 bg-gray-100 cursor-not-allowed':isRegistered?'text-yellow-700 bg-yellow-100 hover:bg-yellow-200':'text-gray-900 bg-[#C4E538] hover:bg-[#B4D532]',\" focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500\"),children:event.is_cancelled?'Event Cancelled':isRegistered?'Withdraw':totalSpots!==null&&(availableSpots||0)<=0?'Event Full':'Register'})})]})]})},event.id);};const renderEventSection=(title,events,sectionKey)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleSection(sectionKey),className:\"w-full flex justify-between items-center text-2xl font-bold text-gray-900 mb-4 hover:text-[#C4E538] transition-colors\",children:[/*#__PURE__*/_jsx(\"span\",{children:title}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:expandedSections[sectionKey]?'▼':'▶'})]}),expandedSections[sectionKey]&&events.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\",children:events.map(renderEventCard)}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-4\",children:expandedSections[sectionKey]?'No events in this period':''})]});if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-lg text-gray-600\",children:\"Loading events...\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-lg text-red-600\",children:error})});}const categorizedEvents=categorizeEvents();const hasAnyEvents=events.length>0;return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[toast&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-4 right-4 z-50 p-4 rounded-md shadow-lg \".concat(toast.type==='success'?'bg-green-500':'bg-red-500',\" text-white\"),children:toast.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Find Events\"}),/*#__PURE__*/_jsx(Link,{to:\"/create-event\",className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-gray-900 bg-[#C4E538] hover:bg-[#B4D532] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#C4E538]\",children:\"Create Event\"})]}),hasAnyEvents?/*#__PURE__*/_jsxs(\"div\",{children:[renderEventSection('Upcoming Events',categorizedEvents.upcoming,'upcoming'),renderEventSection('Past Events',categorizedEvents.past,'past')]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gray-100 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"No events found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-500\",children:\"Create an event to get started!\"})]}),selectedEvent&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Event Details\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedEvent(null),className:\"text-gray-400 hover:text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Location\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-500\",children:selectedEvent.court_location})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Date & Time\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-gray-500\",children:[format(new Date(selectedEvent.event_date),'MMMM d, yyyy'),\" at\",' ',format(new Date(selectedEvent.event_time),'h:mm a')]})]}),selectedEvent.description&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-500\",children:selectedEvent.description})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Participants\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 space-y-2\",children:(_selectedEvent$regist=selectedEvent.registrations)===null||_selectedEvent$regist===void 0?void 0:_selectedEvent$regist.map(registration=>{var _registration$user,_registration$user2,_registration$user3,_registration$user4;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[(_registration$user=registration.user)!==null&&_registration$user!==void 0&&_registration$user.profile_image?/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8000/uploads/\".concat(registration.user.profile_image),alt:\"\".concat(((_registration$user2=registration.user)===null||_registration$user2===void 0?void 0:_registration$user2.first_name)||'',\" \").concat(((_registration$user3=registration.user)===null||_registration$user3===void 0?void 0:_registration$user3.last_name)||''),className:\"h-8 w-8 rounded-full\"}):/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full bg-[#C4E538] flex items-center justify-center text-gray-900 font-medium\",children:(((_registration$user4=registration.user)===null||_registration$user4===void 0?void 0:_registration$user4.first_name)||'U').charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700\",children:[registration.user?\"\".concat(registration.user.first_name,\" \").concat(registration.user.last_name):'Unknown User',registration.user.id===selectedEvent.organizer_id&&' (Organizer)']})]},registration.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Capacity\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-500\",children:selectedEvent.max_participants?\"\".concat(((_selectedEvent$regist2=selectedEvent.registrations)===null||_selectedEvent$regist2===void 0?void 0:_selectedEvent$regist2.length)||0,\"/\").concat(selectedEvent.max_participants,\" spots filled\"):'Open registration'})]})]})]})})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","getEvents","registerForEvent","cancelEvent","format","useAuth","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Dashboard","_selectedEvent$regist","_selectedEvent$regist2","events","setEvents","loading","setLoading","error","setError","user","toast","setToast","selectedEvent","setSelectedEvent","expandedSections","setExpandedSections","upcoming","past","fetchEvents","timer","setTimeout","clearTimeout","data","sortedEvents","sort","a","b","Date","event_date","getTime","err","console","errorMsg","detail","JSON","stringify","message","handleRegister","eventId","log","type","_err$response","_err$response2","status","response","handleWithdraw","_error$response","_error$response2","_error$response3","_error$response3$data","handleCancelEvent","_error$response4","_error$response5","_error$response6","_error$response6$data","toggleSection","section","prev","_objectSpread","categorizeEvents","now","filter","event","is_cancelled","renderEventCard","_event$registrations","_event$registrations2","totalSpots","max_participants","currentRegistrations","registrations","length","availableSpots","isOrganizer","organizer_id","id","isRegistered","some","reg","_reg$user","className","children","court_location","event_time","onClick","disabled","concat","renderEventSection","title","sectionKey","map","categorizedEvents","hasAnyEvents","to","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","description","registration","_registration$user","_registration$user2","_registration$user3","_registration$user4","profile_image","src","alt","first_name","last_name","charAt","toUpperCase"],"sources":["C:/Users/Admin/Documents/RacketBuddy/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getEvents, registerForEvent, cancelEvent } from '../services/api';\nimport { Event } from '../types';\nimport { format, isThisWeek, isThisMonth, addWeeks, startOfWeek, endOfWeek, isPast, parseISO } from 'date-fns';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Dashboard: React.FC = () => {\n  const [events, setEvents] = useState<Event[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const { user } = useAuth();\n  const [toast, setToast] = useState<{ message: string; type: 'success' | 'error' } | null>(null);\n  const [selectedEvent, setSelectedEvent] = useState<Event | null>(null);\n  const [expandedSections, setExpandedSections] = useState({\n    upcoming: true,\n    past: false\n  });\n\n  useEffect(() => {\n    fetchEvents();\n  }, []);\n\n  // Auto-hide toast after 3 seconds\n  useEffect(() => {\n    if (toast) {\n      const timer = setTimeout(() => {\n        setToast(null);\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [toast]);\n\n  const fetchEvents = async () => {\n    try {\n      const data = await getEvents();\n      // Sort events by date\n      const sortedEvents = data.sort((a, b) => \n        new Date(a.event_date).getTime() - new Date(b.event_date).getTime()\n      );\n      setEvents(sortedEvents);\n      setError(null);\n    } catch (err: any) {\n      console.error('Failed to load events:', err);\n      let errorMsg = 'Failed to load events';\n      if (err.detail) {\n        errorMsg = typeof err.detail === 'string' ? err.detail : JSON.stringify(err.detail);\n      } else if (err.message) {\n        errorMsg = err.message;\n      }\n      setError(errorMsg);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRegister = async (eventId: number) => {\n    try {\n      console.log('Attempting to register for event:', eventId);\n      await registerForEvent(eventId);\n      // Refresh events after registration\n      fetchEvents();\n      setToast({ message: 'Successfully registered for event!', type: 'success' });\n    } catch (err: any) {\n      console.error('Failed to register for event:', err);\n      console.error('Error details:', {\n        status: err.response?.status,\n        data: err.response?.data,\n        message: err.message,\n        detail: err.detail\n      });\n      let errorMsg = 'Failed to register for event';\n      if (err.detail) {\n        errorMsg = typeof err.detail === 'string' ? err.detail : JSON.stringify(err.detail);\n      } else if (err.message) {\n        errorMsg = err.message;\n      }\n      setError(errorMsg);\n      setToast({ message: errorMsg, type: 'error' });\n    }\n  };\n\n  const handleWithdraw = async (eventId: number) => {\n    try {\n      console.log('Attempting to withdraw from event:', eventId);\n      const response = await registerForEvent(eventId, true);\n      console.log('Withdrawal response:', response);\n      setToast({ message: 'Successfully withdrew from event', type: 'success' });\n      // Refresh events to update the UI\n      await fetchEvents();\n    } catch (error: any) {\n      console.error('Failed to withdraw from event:', error);\n      console.error('Error details:', {\n        status: error.response?.status,\n        data: error.response?.data,\n        message: error.message,\n        detail: error.detail\n      });\n      setToast({ \n        message: error.response?.data?.detail || error.detail || 'Failed to withdraw from event', \n        type: 'error' \n      });\n    }\n  };\n\n  const handleCancelEvent = async (eventId: number) => {\n    try {\n      console.log('Attempting to cancel event:', eventId);\n      await cancelEvent(eventId);\n      console.log('Event cancelled successfully');\n      setToast({ message: 'Successfully cancelled event', type: 'success' });\n      fetchEvents(); // Refresh events to update the UI\n    } catch (error: any) {\n      console.error('Failed to cancel event:', error);\n      console.error('Error details:', {\n        status: error.response?.status,\n        data: error.response?.data,\n        message: error.message,\n        detail: error.detail\n      });\n      setToast({ \n        message: error.response?.data?.detail || error.detail || 'Failed to cancel event', \n        type: 'error' \n      });\n    }\n  };\n\n  const toggleSection = (section: keyof typeof expandedSections) => {\n    setExpandedSections(prev => ({\n      ...prev,\n      [section]: !prev[section]\n    }));\n  };\n\n  const categorizeEvents = () => {\n    const now = new Date();\n    return {\n      upcoming: events.filter(event => new Date(event.event_date) >= now && !event.is_cancelled),\n      past: events.filter(event => new Date(event.event_date) < now && !event.is_cancelled)\n    };\n  };\n\n  const renderEventCard = (event: Event) => {\n    const totalSpots = event.max_participants || null;\n    const currentRegistrations = event.registrations?.length || 0;\n    const availableSpots = totalSpots ? totalSpots - currentRegistrations : null;\n    \n    // Check if user is organizer or registered\n    const isOrganizer = event.organizer_id === user?.id;\n    const isRegistered = event.registrations?.some(reg => reg.user?.id === user?.id) || false;\n\n    return (\n      <div\n        key={event.id}\n        className=\"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow duration-200\"\n      >\n        <div className=\"px-4 py-5 sm:p-6\">\n          <h3 className=\"text-lg font-medium text-gray-900\">\n            Tennis Match at {event.court_location}\n          </h3>\n          <div className=\"mt-2 text-sm text-gray-500\">\n            <p>\n              Date:{' '}\n              {format(new Date(event.event_date), 'MMMM d, yyyy')}\n            </p>\n            <p>\n              Time:{' '}\n              {format(new Date(event.event_time), 'h:mm a')}\n            </p>\n            {totalSpots !== null ? (\n              <p>\n                Participants: {currentRegistrations}/{totalSpots}\n              </p>\n            ) : (\n              <p>\n                Participants: Open Registration\n              </p>\n            )}\n          </div>\n          \n          <div className=\"mt-6 space-y-3\">\n            <button\n              onClick={() => setSelectedEvent(event)}\n              className=\"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#C4E538]\"\n            >\n              See Event Details\n            </button>\n            <div className=\"mt-4 flex justify-center space-x-2\">\n              {event.organizer_id === user?.id ? (\n                <>\n                  {isRegistered ? (\n                    <button\n                      onClick={() => handleWithdraw(event.id)}\n                      className=\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-100 hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500\"\n                    >\n                      Withdraw\n                    </button>\n                  ) : (\n                    <button\n                      onClick={() => handleRegister(event.id)}\n                      className=\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-900 bg-[#C4E538] hover:bg-[#B4D532] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#C4E538]\"\n                    >\n                      Register\n                    </button>\n                  )}\n                  <button\n                    onClick={() => handleCancelEvent(event.id)}\n                    className=\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                  >\n                    Cancel Event\n                  </button>\n                </>\n              ) : (\n                <button\n                  onClick={() => isRegistered ? handleWithdraw(event.id) : handleRegister(event.id)}\n                  disabled={event.is_cancelled}\n                  className={`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md ${\n                    event.is_cancelled\n                      ? 'text-gray-400 bg-gray-100 cursor-not-allowed'\n                      : isRegistered\n                      ? 'text-yellow-700 bg-yellow-100 hover:bg-yellow-200'\n                      : 'text-gray-900 bg-[#C4E538] hover:bg-[#B4D532]'\n                  } focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500`}\n                >\n                  {event.is_cancelled\n                    ? 'Event Cancelled'\n                    : isRegistered\n                    ? 'Withdraw'\n                    : totalSpots !== null && (availableSpots || 0) <= 0\n                    ? 'Event Full'\n                    : 'Register'}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderEventSection = (title: string, events: Event[], sectionKey: keyof typeof expandedSections) => (\n    <div className=\"mb-8\">\n      <button\n        onClick={() => toggleSection(sectionKey)}\n        className=\"w-full flex justify-between items-center text-2xl font-bold text-gray-900 mb-4 hover:text-[#C4E538] transition-colors\"\n      >\n        <span>{title}</span>\n        <span className=\"text-lg\">\n          {expandedSections[sectionKey] ? '▼' : '▶'}\n        </span>\n      </button>\n      {expandedSections[sectionKey] && events.length > 0 ? (\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n          {events.map(renderEventCard)}\n        </div>\n      ) : (\n        <p className=\"text-gray-500 text-center py-4\">\n          {expandedSections[sectionKey] ? 'No events in this period' : ''}\n        </p>\n      )}\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"text-lg text-gray-600\">Loading events...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"text-lg text-red-600\">{error}</div>\n      </div>\n    );\n  }\n\n  const categorizedEvents = categorizeEvents();\n  const hasAnyEvents = events.length > 0;\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      {/* Toast Notification */}\n      {toast && (\n        <div className={`fixed top-4 right-4 z-50 p-4 rounded-md shadow-lg ${\n          toast.type === 'success' ? 'bg-green-500' : 'bg-red-500'\n        } text-white`}>\n          {toast.message}\n        </div>\n      )}\n\n      <div className=\"flex justify-between items-center mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">Find Events</h1>\n        <Link\n          to=\"/create-event\"\n          className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-gray-900 bg-[#C4E538] hover:bg-[#B4D532] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#C4E538]\"\n        >\n          Create Event\n        </Link>\n      </div>\n\n      {hasAnyEvents ? (\n        <div>\n          {renderEventSection('Upcoming Events', categorizedEvents.upcoming, 'upcoming')}\n          {renderEventSection('Past Events', categorizedEvents.past, 'past')}\n        </div>\n      ) : (\n        <div className=\"text-center py-12\">\n          <div className=\"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gray-100 mb-4\">\n            <svg\n              className=\"w-12 h-12 text-gray-400\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\n              />\n            </svg>\n          </div>\n          <h3 className=\"text-lg font-medium text-gray-900\">\n            No events found\n          </h3>\n          <p className=\"mt-2 text-sm text-gray-500\">\n            Create an event to get started!\n          </p>\n        </div>\n      )}\n\n      {/* Event Details Modal */}\n      {selectedEvent && (\n        <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <div className=\"flex justify-between items-start\">\n                <h2 className=\"text-2xl font-bold text-gray-900\">\n                  Event Details\n                </h2>\n                <button\n                  onClick={() => setSelectedEvent(null)}\n                  className=\"text-gray-400 hover:text-gray-500\"\n                >\n                  <span className=\"sr-only\">Close</span>\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n              \n              <div className=\"mt-4 space-y-4\">\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900\">Location</h3>\n                  <p className=\"mt-1 text-gray-500\">{selectedEvent.court_location}</p>\n                </div>\n\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900\">Date & Time</h3>\n                  <p className=\"mt-1 text-gray-500\">\n                    {format(new Date(selectedEvent.event_date), 'MMMM d, yyyy')} at{' '}\n                    {format(new Date(selectedEvent.event_time), 'h:mm a')}\n                  </p>\n                </div>\n\n                {selectedEvent.description && (\n                  <div>\n                    <h3 className=\"text-lg font-medium text-gray-900\">Description</h3>\n                    <p className=\"mt-1 text-gray-500\">{selectedEvent.description}</p>\n                  </div>\n                )}\n\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900\">Participants</h3>\n                  <div className=\"mt-2 space-y-2\">\n                    {selectedEvent.registrations?.map((registration) => (\n                      <div key={registration.id} className=\"flex items-center space-x-3\">\n                        {registration.user?.profile_image ? (\n                          <img\n                            src={`http://localhost:8000/uploads/${registration.user.profile_image}`}\n                            alt={`${registration.user?.first_name || ''} ${registration.user?.last_name || ''}`}\n                            className=\"h-8 w-8 rounded-full\"\n                          />\n                        ) : (\n                          <div className=\"h-8 w-8 rounded-full bg-[#C4E538] flex items-center justify-center text-gray-900 font-medium\">\n                            {(registration.user?.first_name || 'U').charAt(0).toUpperCase()}\n                          </div>\n                        )}\n                        <span className=\"text-gray-700\">\n                          {registration.user ? `${registration.user.first_name} ${registration.user.last_name}` : 'Unknown User'}\n                          {registration.user.id === selectedEvent.organizer_id && ' (Organizer)'}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900\">Capacity</h3>\n                  <p className=\"mt-1 text-gray-500\">\n                    {selectedEvent.max_participants\n                      ? `${selectedEvent.registrations?.length || 0}/${selectedEvent.max_participants} spots filled`\n                      : 'Open registration'}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}